# What is this repository for?
This repository has code to both decode a .bin file (in the CAEN format) as well as read out data from a .root tree created by the decoder script.

# How do you read the .bin file?
Use the tree_write.py script to do this. The data structure of the .bin files generated by CAEN for the "One file per board" option + header is as follows:
1. The first 4-bytes form the event number as an unsigned int.
2. The next 8-bytes form the timestamp as an unsigned int. I use unsigned long long to read it out with struct.
3. The next 4-bytes form the number of samples as an unsigned int.
4. The next 8-bytes form the sampling period as an unsigned int. I also used unsigned long long with this one.
5. The next 4-bytes form the number of active channels as a signed int.
6. The first 2-bytes form the specific channel number as a short int.
7. The waveform data follows. Each waveform sample is 4-byte float value. There are (number of samples * 4) bytes of data in total.

This pattern repeats until the end of the file.

# How is this data stored in the ROOT Tree?
The ROOT TTree has 7 branches and they are as follows:
1. event_num (event_num/I)
2. timestamp (timestamp/l)
3. num_of_samples (num_of_samples/I)
4. resolution (resolution/I)
5. num_of_channels (num_of_channels/I)
6. active_channels (active_channels\[channels]/I)
